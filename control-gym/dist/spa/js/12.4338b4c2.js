(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"042a":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"q-pa-xl"},[a("q-table",{staticClass:"table",attrs:{dark:"",color:"white",data:e.datos,columns:e.columns,filter:e.filter,"row-key":"name"},scopedSlots:e._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{dark:"",borderless:"",dense:"",debounce:"300",placeholder:"Buscar"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[a("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1)]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{staticClass:"cursor-pointer",attrs:{props:t}},[a("q-td",{key:"year",attrs:{props:t}},[e._v("\n            "+e._s(t.row.year)+"\n          ")]),a("q-td",{key:"month",attrs:{props:t}},[e._v("\n            "+e._s(t.row.month)+"\n          ")]),a("q-td",{key:"createdAt",attrs:{props:t}},[e._v("\n            "+e._s(e.$moment(t.row.createdAt).format("YYYY-MM-DD"))+"\n          ")]),a("q-td",{key:"actions",attrs:{props:t}},[a("q-btn",{attrs:{color:"white",outline:"",label:"Ver",size:"sm"},on:{click:function(a){return e.open(t.row)}}},[a("q-tooltip",{attrs:{"content-class":"color-orange"}},[e._v("Ver")])],1),a("q-btn",{attrs:{color:"white",outline:"",label:"Eliminar",size:"sm"},on:{click:function(a){return e.remove(t.row.id)}}},[a("q-tooltip",{attrs:{"content-class":"color-orange"}},[e._v("Eliminar")])],1)],1)],1)]}}])})],1),a("q-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("q-card",{staticClass:"card",staticStyle:{width:"50%"}},[a("q-card-section",{staticClass:"text-center text-weight-bolder text-white"},[a("div",{staticClass:"text-h6"},[e._v("\n          "+e._s(e.form.nombre+" "+e.form.apellido)+"\n        ")]),a("div",{staticClass:"text-title"},[e._v("\n          "+e._s(e.form.cedula)+"\n        ")])]),a("q-card-section",{staticClass:"justify-center q-gutter-md"},[a("div",{staticClass:"q-pb-xs row justify-center q-gutter-md"},[a("div",[a("q-input",{staticStyle:{width:"200px"},attrs:{label:"Año",type:"number",color:"white",dark:""},model:{value:e.form.year,callback:function(t){e.$set(e.form,"year",t)},expression:"form.year"}})],1),a("div",[a("q-select",{staticStyle:{width:"200px"},attrs:{label:"Mes",options:[{label:"Enero",value:1},{label:"Febrero",value:2},{label:"Marzo",value:3},{label:"Abril",value:4},{label:"Mayo",value:5},{label:"Junio",value:6},{label:"Julio",value:7},{label:"Agosto",value:8},{label:"Septiembre",value:9},{label:"Octubre",value:10},{label:"Noviembre",value:11},{label:"Diciembre",value:12}],color:"white",dark:"","map-options":"","emit-value":""},model:{value:e.form.month,callback:function(t){e.$set(e.form,"month",t)},expression:"form.month"}})],1),a("div",[a("q-input",{staticClass:"col-md-3 col-xs-12",staticStyle:{width:"200px"},attrs:{prefix:"$",label:"Monto del mes",color:"white",type:"number",dark:"",readonly:""},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1),a("div",[a("q-input",{staticClass:"col-md-3 col-xs-12",staticStyle:{width:"200px"},attrs:{label:"Tipo de pago",color:"white",dark:"",readonly:""},model:{value:e.form.payment_type,callback:function(t){e.$set(e.form,"payment_type",t)},expression:"form.payment_type"}})],1),a("div",[a("q-select",{ref:"payment_method",staticStyle:{width:"200px"},attrs:{label:"Metodo de pago",options:[{label:"Divisas",value:"divisa"},{label:"Transferencia/Pago Móvil",value:"transferencia"},{label:"Punto de venta",value:"Punto"}],rules:[function(e){return!!e||"campo requerido"}],color:"white",dark:"","map-options":"","emit-value":"",readonly:""},model:{value:e.form.payment_method,callback:function(t){e.$set(e.form,"payment_method",t)},expression:"form.payment_method"}})],1),"transferencia"==e.form.payment_method?a("div",[a("q-input",{ref:"num_ref",staticStyle:{width:"200px"},attrs:{rules:[function(e){return!!e||"campo requerido"}],label:"Nº Referencia",color:"white",dark:"",readonly:""},model:{value:e.form.num_ref,callback:function(t){e.$set(e.form,"num_ref",t)},expression:"form.num_ref"}})],1):e._e(),a("div",{staticClass:"column"},[a("q-checkbox",{attrs:{dark:"",label:"Exonerado",color:"grey-8",disable:""},model:{value:e.form.exonerated,callback:function(t){e.$set(e.form,"exonerated",t)},expression:"form.exonerated"}}),e.form.exonerated?a("q-input",{staticStyle:{width:"200px"},attrs:{dark:"",color:"white",readonly:""},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}})]},proxy:!0}],null,!1,3296233546),model:{value:e.desde_hasta,callback:function(t){e.desde_hasta=t},expression:"desde_hasta"}}):e._e()],1)])])],1)],1)],1)},l=[],r=(a("e6cf"),{data(){return{filter:null,datos:[],columns:[{name:"year",required:!0,label:"Año",align:"left",field:e=>e.year,format:e=>`${e}`,sortable:!0},{name:"month",required:!0,label:"Mes",align:"center",field:"month",sortable:!0},{name:"createdAt",required:!0,label:"Fecha de creación",align:"center",field:"createdAt",sortable:!0},{name:"actions",align:"right",label:"Acciones",field:"actions",sortable:!0}],dialog:!1,form:{},desde_hasta:null}},watch:{"form.exonerated_date"(e){this.desde_hasta=e.from+" hasta "+e.to}},methods:{async get(){this.$q.loading.show(),await this.$axios2.get("pagos").then((e=>{this.datos=e,this.$q.loading.hide()})).catch((e=>{this.$q.loading.hide()}))},async remove(e){this.$q.dialog({title:"Eliminar",message:"¿Segúro que quiere eliminar este pago?",cancel:"Cancelar",persistent:!0,dark:!0,color:"red"}).onOk((async()=>{this.$q.loading.show(),await this.$axios2.delete("pagos/"+e).then((async e=>{await this.get(),this.$q.loading.hide()})).catch((e=>{this.$q.loading.hide()}))})).onCancel((()=>{}))},open(e){this.dialog=!0,this.form=e}},async mounted(){await this.get()}}),n=r,s=a("2877"),i=a("eaac"),c=a("27f9"),d=a("0016"),m=a("bd08"),u=a("db86"),p=a("9c40"),f=a("05c0"),h=a("24e8"),b=a("f09f"),v=a("a370"),y=a("ddd8"),q=a("8f8e"),w=a("eebe"),x=a.n(w),g=Object(s["a"])(n,o,l,!1,null,null,null);t["default"]=g.exports;x()(g,"components",{QTable:i["a"],QInput:c["a"],QIcon:d["a"],QTr:m["a"],QTd:u["a"],QBtn:p["a"],QTooltip:f["a"],QDialog:h["a"],QCard:b["a"],QCardSection:v["a"],QSelect:y["a"],QCheckbox:q["a"]})}}]);