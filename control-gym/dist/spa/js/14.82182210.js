(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"2c53":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"q-pa-xl"},[e("div",{staticClass:"q-pb-md"},[e("q-btn",{attrs:{label:"Nuevo Usuario",to:"/usuarios/crear",outline:"",color:"white",icon:"add"}})],1),e("q-table",{staticClass:"table",attrs:{title:"Usuarios",data:t.data,columns:t.columns,filter:t.filter,"row-key":"name"},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{dark:"",borderless:"",dense:"",debounce:"300",placeholder:"Buscar"},model:{value:t.filter,callback:function(a){t.filter=a},expression:"filter"}},[e("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1)]},proxy:!0},{key:"body",fn:function(a){return[e("q-tr",{attrs:{props:a}},[e("q-td",{key:"first_name",attrs:{props:a}},[t._v("\n            "+t._s(a.row.first_name)+"\n          ")]),e("q-td",{key:"last_name",attrs:{props:a}},[t._v("\n            "+t._s(a.row.last_name)+"\n          ")]),e("q-td",{key:"identity_card",attrs:{props:a}},[t._v("\n            "+t._s(a.row.identity_card)+"\n          ")]),e("q-td",{key:"email",attrs:{props:a}},[t._v("\n            "+t._s(a.row.email)+"\n          ")]),e("q-td",{key:"createdAt",attrs:{props:a}},[t._v("\n            "+t._s(t.$moment(a.row.createdAt).format("YYYY-MM-DD"))+"\n          ")]),e("q-td",{key:"actions",attrs:{props:a}},[e("q-btn",{attrs:{color:"white",outline:"",label:"Editar",to:"/usuarios/crear/"+a.row.id,size:"sm"}},[e("q-tooltip",{attrs:{"content-class":"color-orange"}},[t._v("Editar")])],1),e("q-btn",{attrs:{color:"white",outline:"",label:"Ver",to:"/usuarios/ver/"+a.row.id,size:"sm"}},[e("q-tooltip",{attrs:{"content-class":"color-orange"}},[t._v("Ver")])],1),e("q-btn",{attrs:{color:"white",outline:"",label:"Eliminar",loading:t.loading,size:"sm"},on:{click:function(e){return t.eliminar(a.row.id)}}},[e("q-tooltip",{attrs:{"content-class":"color-orange"}},[t._v("Eliminar")])],1)],1)],1)]}}])})],1)])},s=[],r=(e("e6cf"),{data(){return{data:[],filter:"",loading:!1,columns:[{name:"first_name",required:!0,label:"Nombre",align:"left",field:t=>t.first_name,format:t=>`${t}`,sortable:!0},{name:"last_name",align:"center",label:"Apellido",field:"last_name",sortable:!0},{name:"identity_card",align:"right",label:"Cedula",field:"identity_card",sortable:!0},{name:"createdAt",align:"right",label:"Fecha de creación",field:"createdAt",sortable:!0},{name:"actions",align:"right",label:"Acciones",sortable:!0}]}},watch:{},computed:{},methods:{async getList(){this.$q.loading.show(),await this.$axios2.get("usuarios",{filter:{role:"user"}}).then((t=>{this.data=t,this.$q.loading.hide()})).catch((t=>{this.$q.loading.hide()}))},async eliminar(t){this.$q.dialog({title:"Eliminar",message:"¿Segúro que quiere eliminar este Usuario?",cancel:"Cancelar",persistent:!0}).onOk((async()=>{this.loading=!0,await this.$axios2.delete("usuarios/"+t).then((async t=>{this.$q.notify({message:"Usuario Eliminado",color:"positive"}),this.loading=!1,await this.getList()})).catch((t=>{this.loading=!1,this.$q.notify("Ups hubo un error")}))})).onCancel((()=>{}))}},async mounted(){await this.getList()}}),n=r,o=e("2877"),l=e("9c40"),c=e("eaac"),d=e("27f9"),u=e("0016"),m=e("bd08"),p=e("db86"),h=e("05c0"),b=e("eebe"),f=e.n(b),g=Object(o["a"])(n,i,s,!1,null,null,null);a["default"]=g.exports;f()(g,"components",{QBtn:l["a"],QTable:c["a"],QInput:d["a"],QIcon:u["a"],QTr:m["a"],QTd:p["a"],QTooltip:h["a"]})}}]);